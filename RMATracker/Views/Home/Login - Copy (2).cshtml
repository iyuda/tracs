@model RMATracker.Models.LoginModel
@{
    Layout = "~/Views/Home/_HomeLayout.cshtml";
    ViewBag.LoginFailed = (ViewBag.LoginFailed ?? false);
    ViewBag.HideLogin = (ViewBag.HideLogin ?? false);
    ViewBag.Title = "Login";
}

    @using (Html.BeginForm("Login", "Home", FormMethod.Post, new { @class = "center", @id = "loginForm" }))
    {
        var @DisplayLogin = ViewBag.HideLogin ? "display:none" : "";
        <div id="divLogin" class="m-y15" style="@DisplayLogin" align="center">
            
            <h1 class="h3 mb-3 font-weight-bold" style="font-size:large;text-decoration:underline ">Login to TRACS System</h1>
            <table style="width:50%; ">
                <tr>
                    <td colspan="2">
                        @{var @DisplayError = (ViewBag.LoginFailed) ? "" : "display:none";
                            var @ErrorMsg = ViewBag.ErrorMsg == null ? "The e-mail/password is not valid" : ViewBag.ErrorMsg;
                        }
                        <p style="text-align:center;font-style:italic;color:white;background-color:red; @DisplayError;"> @ErrorMsg </p>
                    </td>
                </tr>

                <tr>
                    @*<td width="40%" align="right">
                <label style="text-align:right;"><span>User E-Mail:</span> </label>
            </td>*@
                    <td align="left">
                        <label style="text-align:left;"><span>User E-Mail:</span> </label>
                        @Html.TextBoxFor(m => m.Email, new { @type = "email", @style = "width:90%", @class = "wpcf7-form-control m-y3 wpcf7-text rma-textfield form-control", @placeholder = "Email", @required = "", @autofocus = "" })
                    </td>
                </tr>
                <tr class="p-5"></tr>
                <tr class="blank_row">
                    <td colspan="2">&nbsp;</td>
                </tr>
                <tr>
                    @*<td align="right">
                <label style="text-align:right"><span>Passsword:   </span></label>
            </td>*@
                    <td align="left">
                        <label style="text-align:left"><span>Passsword:   </span></label>
                        @Html.PasswordFor(m => m.Password, new { @value = Model?.Password, @style = "width:90%", @class = "wpcf7-form-control wpcf7-text rma-textfield form-control", @placeholder = "Password", @required = "", @autofocus = "" })
                    </td>
                </tr>
                <tr class="blank_row">
                    <td colspan="2">&nbsp;</td>
                </tr>

                <tr>
                    <td align="right"></td>

                    <td align="right">
                        <button class="btn btn-lg btn-primary btn-block" type="submit" id="btnLogin" style="width:90%">Login</button>
                    </td>
                </tr>
                <tr>
                    <td align="right"></td>

                    <td align="center">
                        <a href="~/Home/ValidateEmailGet">Forgot your password?</a>
                        <br />
                        <a href="~/Home/UserRegistrationGet">Registration / New User</a>
                    </td>
                </tr>

            </table>
           
        </div>

        @*var @DisplayRoles = (Model?.attributes?.Count > 1) ? "" : "display:none";
            <div id="divSelectRole" class="form-group" style="@DisplayRoles">
                @if (@DisplayRoles == "")
                {
                    <h1 class="h3 mb-3 font-weight-normal" style="font-size:large ">Please Select User Role</h1>
                    @Html.DropDownListFor(m => m.attributes[0].id, new SelectList(Model?.attributes, "id", "Name", Model?.attributes?[0].id),  new
                           {
                               @style="height:100%",
                               @aria_invalid = "false",
                               @aria_required = "true",
                               @required = "",
                               @class = "wpcf7-form-control wpcf7-select wpcf7-validates-as-required form-control",
                               @onchange = "RedirectToForm(this, '" + @Url.Action("Index", "RmaForm", new { id = "dummy" }) + "')"
                           })
                }
            </div>*@
    }

    @*//ViewBag.LoginFailed = true;
        //*@

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
            crossorigin="anonymous"></script>
    <script src="~/Scripts/Login/bootbox.min.js"></script>

<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js"></script>
<script>
    $(document).ready(function () {
        $('.btn-primary').css('background-color', '#F57B20')


    });

</script>
